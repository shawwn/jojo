(= f (lambda [x y] (cons-c x y)))

(assert (equal (typeof f) closure-t))
(assert (equal (typeof (f null-c)) closure-t))
(assert (equal (f null-c (cons-c null-c null-c))
         (cons-c null-c (cons-c null-c null-c))))

(note
  (println f)
  (println (f null-c))
  (println (f null-c (cons-c null-c null-c))))

(= g (lambda [x] (lambda [y] (cons-c x y))))

(assert (equal (typeof g) closure-t))
(assert (equal (typeof (g null-c)) closure-t))
(assert (equal ((g null-c) (cons-c null-c null-c))
               (cons-c null-c (cons-c null-c null-c))))

(note
  (println g)
  (println (g null-c))
  (println ((g null-c) (cons-c null-c null-c))))

(env-report)
